(function(){"use strict";var o={6672:function(o,t,e){var n=e(9963),r=e(6252);const i={class:"bg-gray-600 text-white w-1/2 m-auto mt-12"},s=(0,r._)("div",{class:"text-center border-b-2 border-black py-4"},[(0,r._)("h1",{class:"text-3xl py-4"},"Unsere Todos")],-1),d={class:"flex justify-between items-center py-2 px-2"};function a(o,t,e,a,c,l){const u=(0,r.up)("ToDoComponent");return(0,r.wg)(),(0,r.iD)("div",i,[s,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.todos,((t,e)=>((0,r.wg)(),(0,r.iD)("div",{key:t.todo},[(0,r.Wm)(u,{todoprop:t,todoindex:e,creationTimestamp:o.creationTimestamp,onToggledoneIndex:o=>l.toggleDone(e),onDeleteTodoIndex:o=>l.deleteTodo(e)},null,8,["todoprop","todoindex","creationTimestamp","onToggledoneIndex","onDeleteTodoIndex"])])))),128)),(0,r._)("div",d,[(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>o.myText=t),class:"border-2 border-gray-400 rounded-lg py-2 px-4 focus:outline-none focus:border-blue-500 text-black"},null,512),[[n.nr,o.myText]]),(0,r._)("button",{onClick:t[1]||(t[1]=t=>l.addTodo(o.myText)),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},"Einfügen")])])}e(7658);var c=e(3577);function l(o,t,e,n,i,s){return(0,r.wg)(),(0,r.iD)("div",{onClick:t[1]||(t[1]=o=>s.toggleTodo()),class:(0,c.C_)(["cursor-pointer flex justify-between items-center p-2 m-2",{"bg-green-500":this.todo.done,"bg-red-500":!this.todo.done}])},[(0,r._)("h1",null,(0,c.zw)(i.todo.todo),1),(0,r._)("p",null,(0,c.zw)(s.formatDate(i.todo.creationTimestamp)),1),(0,r._)("button",{class:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded",onClick:t[0]||(t[0]=o=>s.deleteTodo())},"Löschen")],2)}var u={name:"ToDoComponent",props:["todoprop","todoindex","creationTimestamp"],data(){return{todo:this.todoprop}},methods:{toggleTodo(){this.$emit("toggledone-index",this.todoindex)},deleteTodo(){this.$emit("deleteTodo-index",this.todoindex)},formatDate(o){const t=new Date(o),e={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};return t.toLocaleString("en-US",e)}}},p=e(3744);const h=(0,p.Z)(u,[["render",l]]);var f=h,m=e(5934),g={name:"App",data(){return{todos:[]}},methods:{toggleDone(o){this.todos[o].done=!this.todos[o].done,this.updateData(this.todos.at(o))},deleteTodo(o){console.log("App: "+o),this.deleteData(this.todos.at(o)),this.todos.splice(o,1)},addTodo(o){if(null==o||""===o.trim())return;const t={_id:(0,m.Z)(),creationTimestamp:new Date,todo:o,done:!1};console.log(this.i),this.todos.push(t),this.saveData(t)},saveDataFromLocalStorage(){localStorage.setItem("todos",JSON.stringify(this.todos))},fetchDataFromLocalStorage(){let o=localStorage.getItem("todos");""!==o&&null!=o?this.todos=JSON.parse(o):this.todo=[]},fetchData(){fetch("api/todos").then((o=>o.json())).then((o=>{this.todos=o})).catch((o=>{console.error(o)}))},deleteData(o){fetch("api/todos/"+o._id,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((o=>o.json())).then((o=>{console.log(o)})).catch((o=>{console.error(o)}))},updateData(o){fetch("api/todos/"+o._id,{method:"PUT",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((o=>o.json())).then((o=>{console.log(o)})).catch((o=>{console.error(o)}))},saveData(o){fetch("api/todos",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((o=>o.json())).then((o=>{console.log(o)})).catch((o=>{console.error(o)}))}},mounted(){this.fetchData()},components:{ToDoComponent:f}};const b=(0,p.Z)(g,[["render",a]]);var y=b;(0,n.ri)(y).mount("#app")}},t={};function e(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return o[n](i,i.exports,e),i.exports}e.m=o,function(){var o=[];e.O=function(t,n,r,i){if(!n){var s=1/0;for(l=0;l<o.length;l++){n=o[l][0],r=o[l][1],i=o[l][2];for(var d=!0,a=0;a<n.length;a++)(!1&i||s>=i)&&Object.keys(e.O).every((function(o){return e.O[o](n[a])}))?n.splice(a--,1):(d=!1,i<s&&(s=i));if(d){o.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=o.length;l>0&&o[l-1][2]>i;l--)o[l]=o[l-1];o[l]=[n,r,i]}}(),function(){e.d=function(o,t){for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}}(),function(){var o={143:0};e.O.j=function(t){return 0===o[t]};var t=function(t,n){var r,i,s=n[0],d=n[1],a=n[2],c=0;if(s.some((function(t){return 0!==o[t]}))){for(r in d)e.o(d,r)&&(e.m[r]=d[r]);if(a)var l=a(e)}for(t&&t(n);c<s.length;c++)i=s[c],e.o(o,i)&&o[i]&&o[i][0](),o[i]=0;return e.O(l)},n=self["webpackChunktestproject"]=self["webpackChunktestproject"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(6672)}));n=e.O(n)})();
//# sourceMappingURL=app.419c63a4.js.map